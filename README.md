# Проект YaMDb
Проект YaMDb собирает отзывы (Review) пользователей на произведения (Title). Произведения делятся на категории: "Книги", "Фильмы", "Музыка". Список категорий (Category) может быть расширен.
Сами произведения в YaMDb не хранятся, здесь нельзя посмотреть фильм или послушать музыку.
В каждой категории есть произведения: книги, фильмы или музыка. Например, в категории "Книги" могут быть произведения "Винни Пух и все-все-все" и "Марсианские хроники", а в категории "Музыка" — песня "Давеча" группы "Насекомые" и вторая сюита Баха. Произведению может быть присвоен жанр из списка предустановленных (например, "Сказка", "Рок" или "Артхаус"). Новые жанры может создавать только администратор.
Благодарные или возмущённые читатели оставляют к произведениям текстовые отзывы (Review) и выставляют произведению рейтинг.

## Статус workflow

![Yamdb Workflow Status](https://github.com/emplYooo/yamdb_final/actions/workflows/yamdb_workflow.yml/badge.svg)

# Ресурсы API YaMDb
**AUTH**: аутентификация.

**USERS**: пользователи.

**TITLES**: произведения, к которым пишут отзывы (определённый фильм, книга или песенка).

**CATEGORIES**: категории (типы) произведений ("Фильмы", "Книги", "Музыка").

**GENRES**: жанры произведений. Одно произведение может быть привязано к нескольким жанрам.

**REVIEWS**: отзывы на произведения. Отзыв привязан к определённому произведению.

**COMMENTS**: комментарии к отзывам. Комментарий привязан к определённому отзыву.

# Пользовательские роли
**Аноним** — может просматривать описания произведений, читать отзывы и комментарии.

**Аутентифицированный пользователь (user)** — может читать всё, как и Аноним, дополнительно может публиковать отзывы и ставить рейтинг произведениям (фильмам/книгам/песенкам), может комментировать чужие отзывы и ставить им оценки; может редактировать и удалять свои отзывы и комментарии.

**Модератор (moderator)** — те же права, что и у Аутентифицированного пользователя плюс право удалять и редактировать любые отзывы и комментарии.

**Администратор (admin)** — полные права на управление проектом и всем его содержимым. Может создавать и удалять произведения, категории и жанры. Может назначать роли пользователям.

**Администратор Django** — те же права, что и у роли Администратор.

## Стек технологий

Python 3.7
Django 2.2.16
Django REST Framework 3.12.4
Django REST Framework simplejwt 5.2.2
Docker 20.10.21
Nginx

## Как запустить проект

#### 1.Клонируем репозиторий на локальную машину:
```
https://github.com/emplYooo/yamdb_final
git clone git@github.com:emplYooo/yamdb_final.git
```
#### 2.Создать .env файл внутри директории infra (на одном уровне с docker-compose.yaml) Пример .env файла:
```
SECRET_KEY - секретный ключ Django;
DB_ENGINE - движок базы данных (БД) postgresql: `django.db.backends.postgresql`;
DB_NAME - имя БД: `postgres`;
POSTGRES_USER - пользователь БД: `postgres`;
POSTGRES_PASSWORD - пароль рользователя БД: `postgres`;
DB_HOST - адрес удалённого сервера БД, по умолчанию: `db`;
DB_PORT - порт сервера базы данных: `5432`;

```
#### 3. Запуск тестов (опционально, если не нужно - переходите к следующему шагу)
#### Создаем и активируем виртуальное окружение:
Для Mac или Linux
```
cd yamdb_final
python3 -m venv venv
source venv/bin/activate
cd api_yamdb
pip install -r requirements.txt
cd ..
pytest
```

Для Windows
```
cd yamdb_final
python -m venv venv
source venv/Scripts/activate
cd api_yamdb
pip install -r requirements.txt
cd ..
pytest
```
#### 4.Примените миграции и создайте суперпользователя, а так же загрузите статику:
```
docker-compose exec web python manage.py migrate
docker-compose exec web python manage.py createsuperuser
docker-compose exec web python manage.py collectstatic --no-input 
```
### 5.Документация:
```
http://158.160.52.136/redoc/

```
### 6.Админка:
```
http://158.160.52.136/admin/

```